#summary How to add new Java function packages

= Function Interfaces =
For your own Java math functions you have to add the Java package name to the system namespace:
{{{
SystemNamespace.DEFAULT.add("<your.own.package.name>");
}}}

In this package you have to define a class which is derived from the [http://code.google.com/p/symja/source/browse/trunk/matheclipse-core/src/main/java/org/matheclipse/core/eval/interfaces/IFunctionEvaluator.java org.matheclipse.core.eval.interfaces.IFunctionEvaluator] or [http://code.google.com/p/symja/source/browse/trunk/matheclipse-core/src/main/java/org/matheclipse/core/eval/interfaces/AbstractFunctionEvaluator.java org.matheclipse.core.eval.interfaces.AbstractFunctionEvaluator] interfaces.


= Example =

You can find a lot of examples in the [http://code.google.com/p/symja/source/browse/#svn/trunk/matheclipse-core/src/main/java/org/matheclipse/core/reflection/system org.matheclipse.core.reflection.system package].

Add your own package to the system namespace:
{{{
SystemNamespace.DEFAULT.add("org.matheclipse.test.function");
}}}

After defining a new {{{MyFuntion[]}}} function in your own package you can evaluate an expression like {{{MyFunction[Sin[x]*Cos[x]]}}}
{{{
package org.matheclipse.test.function;

import org.matheclipse.core.eval.interfaces.AbstractFunctionEvaluator;
import org.matheclipse.core.expression.AST;
import org.matheclipse.core.expression.F;
import org.matheclipse.core.interfaces.IAST;
import org.matheclipse.core.interfaces.IExpr;

/**
 * Calculate the <b>depth</b> of an expression 
 */
public class MyFunction extends AbstractFunctionEvaluator {

  public MyFunction() {
  }

  @Override
  public IExpr evaluate(final IAST functionList) {
    if (functionList.size() != 2) {
      // The size has to be 2 because the head is stored at index 0 and 
      // the argument is stored at index 1
      return null;
    }
    if (!(functionList.get(1) instanceof IAST)) {
      //constant integer 1:
      return F.C1;
    }
    return F.integer(AST.COPY.depth((IAST) functionList.get(1), 1));
  }

}
}}}